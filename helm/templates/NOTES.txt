Thank you for installing {{ .Chart.Name }}.

Your release is named {{ .Release.Name }}.

To learn more about the release, try:

  $ helm status {{ .Release.Name }}
  $ helm get values {{ .Release.Name }}

{{- if .Values.nats.enabled }}

NATS Cluster:
  The NATS cluster has been deployed with {{ .Values.nats.replicas }} replicas.

  To connect to NATS from within the cluster:
    URL: {{ include "aegis-trader.natsUrl" . }}

  To check NATS cluster status:
    $ kubectl exec -it {{ .Release.Name }}-nats-0 -- nats server check jetstream
{{- end }}

{{- if index .Values "monitor-api" "enabled" }}

Management Service (FastAPI):
  The Management Service is running on port {{ index .Values "monitor-api" "service" "port" }}.

  Internal URL: {{ include "aegis-trader.monitorApiUrl" . }}

  To check service health:
    $ kubectl exec -it deploy/{{ .Release.Name }}-monitor-api -- curl http://localhost:{{ index .Values "monitor-api" "service" "port" }}/health
{{- end }}

{{- if index .Values "monitor-ui" "enabled" }}

Monitor UI (Next.js):
  The Monitor UI is running on port {{ index .Values "monitor-ui" "service" "port" }}.

  {{- if index .Values "monitor-ui" "ingress" "enabled" }}
  External Access:
    {{- range $host := index .Values "monitor-ui" "ingress" "hosts" }}
    http{{ if index $.Values "monitor-ui" "ingress" "tls" }}s{{ end }}://{{ $host.host }}{{ range $path := $host.paths }}{{ $path.path }}{{ end }}
    {{- end }}
  {{- else }}

  To access the UI locally:
    $ kubectl port-forward svc/{{ .Release.Name }}-monitor-ui {{ index .Values "monitor-ui" "service" "port" }}:{{ index .Values "monitor-ui" "service" "port" }}

  Then visit http://localhost:{{ index .Values "monitor-ui" "service" "port" }} in your browser.
  {{- end }}
{{- end }}

To get more information about your deployment:
  $ kubectl get all -l app.kubernetes.io/instance={{ .Release.Name }}
