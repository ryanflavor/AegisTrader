# **目标与背景**

## **目标**

* 构建一个高性能、高可用、可扩展的实时行情服务。
* 支持多种市场数据源接入（首先是CTP期货和SOPT期权）。
* 实现毫秒级的数据处理延迟（P99延迟 \< 1ms）。
* 支持高吞吐量的数据处理能力（\> 50,000 TPS）。
* 通过实时验证、异常检测和质量监控，确保最高标准的数据质量。
* 将验证后的Tick数据发布到PubSub，并将分钟K线数据高效地存储到ClickHouse。

## **背景简介**

本项目旨在构建一个新的“Market Service”，它将成为AegisTrader生态系统中的核心服务。该服务的核心业务价值在于提供实时、准确的市场数据，这是整个交易决策系统的生命线。

该服务将基于已有的AegisSDK框架进行开发，充分利用其提供的六边形架构、高性能NATS消息传递以及高可用服务模式（如SingleActiveService）。整个设计遵循领域驱动设计（DDD）的最佳实践，将复杂的数据处理逻辑清晰地划分到独立的限界上下文中，以确保系统的长期可维护性和可扩展性。

## **变更日志**

| 日期 | 版本 | 描述 | 作者 |
| :---- | :---- | :---- | :---- |
| 2025-08-11 | 1.0 | 基于DDD设计文档创建初始草案 | John (PM) |

---
